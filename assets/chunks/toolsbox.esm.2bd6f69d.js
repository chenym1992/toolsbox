/*!
 * Toolsbox.js v0.0.9
 * (c) 2014-2022 chenym1992
 * Released under the MIT License.
 */function _(e){return e.reduce(function(t,n){return t+n})}function R(e){return _(e)/e.length}function O(e){return Array.from(new Set(e))}function q(e,t){return t.classList.contains(e)}function j(e,t){/\s+/.test(e)?t.className+=" "+e:t.classList.add(e)}function P(e,t){t.classList.toggle(e)}function z(e,t){t.className=t.className.replace(e,"")}function L(){return document.fullscreenElement||document.webkitFullScreenElement||document.mozFullScreenElement||document.msFullScreenElement}function b(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}function M(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body;if(!b())return Promise.reject(new Error("\u5168\u5C4F\u6A21\u5F0F\u88AB\u7981\u7528"));e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullScreen()}function U(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function H(e){var t,n,r,i,u,s;for(t="",r=e.length,n=0;n<r;)switch(i=e[n++],i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(i);break;case 12:case 13:u=e[n++],t+=String.fromCharCode((i&31)<<6|u&63);break;case 14:u=e[n++],s=e[n++],t+=String.fromCharCode((i&15)<<12|(u&63)<<6|(s&63)<<0);break}return t}function B(e){for(var t=[],n=e.length,r,i=0;i<n;i++)r=e.charCodeAt(i),r>=65536&&r<=1114111?(t.push(r>>18&7|240),t.push(r>>12&63|128),t.push(r>>6&63|128),t.push(r&63|128)):r>=2048&&r<=65535?(t.push(r>>12&15|224),t.push(r>>6&63|128),t.push(r&63|128)):r>=128&&r<=2047?(t.push(r>>6&31|192),t.push(r&63|128)):t.push(r&255);return t}function G(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=0,r;return function(){for(var i=this,u=arguments.length,s=new Array(u),a=0;a<u;a++)s[a]=arguments[a];var o=+new Date;o-n<t?(r&&clearTimeout(r),r=setTimeout(function(){n=o,e.apply(i,s)},t)):(n=o,e.apply(this,s))}}var l;function D(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];l&&clearTimeout(l),l=setTimeout(function(){e.call(this,r)},t)}}function f(e){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return w(e)||F(e)||E(e)||C()}function w(e){if(Array.isArray(e))return m(e)}function F(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E(e,t){if(!!e){if(typeof e=="string")return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}function m(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(e){return e===null?"null":f(e)!=="object"?f(e):Object.prototype.toString.call(e).slice(8,-1).toLocaleLowerCase()}function c(e){return I(e)==="object"}var N=function(){function e(){S(this,e),h(this,"__events",new Map),h(this,"__once",new Map)}return x(e,[{key:"on",value:function(n,r){var i=this;if(c(n)){for(var u in n)if(n.hasOwnProperty(u)){var s=this.__events.get(u);s||(s=new Set,this.__events.set(u,s)),s.add(n[u])}}else n.split(" ").forEach(function(a){var o=i.__events.get(a);o||(o=new Set,i.__events.set(a,o)),r&&o.add(r)})}},{key:"off",value:function(n,r){var i=this;if(c(n)){for(var u in n)if(n!=null&&n.hasOwnProperty(u)){var s=this.__events.get(u);s&&r&&s.delete(r);var a=this.__once.get(u);a&&r&&a.delete(r)}}else n?n.split(" ").forEach(function(o){var d=i.__events.get(o);d&&r&&d.delete(r);var g=i.__once.get(o);g&&r&&g.delete(r)}):(this.__events=new Map,this.__once=new Map)}},{key:"once",value:function(n,r){var i=this;if(c(n)){for(var u in n)if(n.hasOwnProperty(u)){var s=this.__once.get(u);s||(s=new Set,this.__once.set(u,s)),r&&s.add(r)}}else n.split(" ").forEach(function(a){var o=i.__once.get(a);o||(o=new Set,i.__once.set(a,o)),r&&o.add(r)})}},{key:"emit",value:function(n,r){var i=this.__events.get(n);if(!!i){y(i).forEach(function(s){return s(r)});var u=this.__once.get(n);!u||(y(u).forEach(function(s){return s(r)}),this.__once.delete(n))}}}]),e}();function v(e){return/#([0-9a-fA-F]{3,4}){1,2}$/.test(e)}function A(e){return/^[rR][gG][Bb]\((\s*(2[0-4]\d|25[0-5]|[01]?\d{1,2})\s*,){2}\s*(2[0-4]\d|25[0-5]|[01]?\d{1,2})\s*\)$/.test(e)}function T(e){return/^[rR][gG][Bb][Aa]\((\s*(2[0-4]\d|25[0-5]|[01]?\d{1,2})\s*,){3}\s*(\d+|0\.\d+)\s*\)/.test(e)}function W(e){if(v(e)){var t=e.slice(1),n=[parseInt("0x"+t.slice(0,2)),parseInt("0x"+t.slice(2,4)),parseInt("0x"+t.slice(4,6))];return"rgb(".concat(n.toString(),")")}}function $(e){if(v(e)){var t=e.slice(1),n=t.slice(6,8),r=[parseInt("0x".concat(t.slice(0,2))),parseInt("0x".concat(t.slice(2,4))),parseInt("0x".concat(t.slice(4,6))),n?(parseInt("0x".concat(n))/256).toFixed(2):1];return"rgba(".concat(r.toString(),")")}}function J(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(A(e)){var n,r=(n=e.match(/\s*(2[0-4]\d|25[0-5]|[01]?\d{1,2})\s*/g))===null||n===void 0?void 0:n.map(function(i){return parseInt(i)<16?"0".concat(parseInt(i).toString(16)):parseInt(i).toString(16)});return t?"#".concat(r==null?void 0:r.join("")).toUpperCase():"#".concat(r==null?void 0:r.join(""))}}function K(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(T(e)){var n=e.slice(5,-1).split(",").map(function(r,i){if(i>2){var u=+r*256;return u<16?"0".concat(parseInt(u+"").toString(16)):u<256?parseInt(u+"").toString(16):""}return parseInt(r)<16?"0".concat(parseInt(r).toString(16)):parseInt(r).toString(16)});return t?"#".concat(n==null?void 0:n.join("")).toUpperCase():"#".concat(n==null?void 0:n.join(""))}}export{N as E,R as a,b,U as c,j as d,M as e,H as f,B as g,q as h,L as i,W as j,$ as k,J as l,K as m,G as n,D as o,z as r,_ as s,P as t,O as u};
